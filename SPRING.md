Spring

<details>
<summary>✍️ 1. 데이터베이스 커넥션 풀에 대해서 설명해주세요.</summary>
<br>

데이터베이스 연결을 열고 닫는데 들어가는 비용과 시간을 줄이는 방법입니다.

데이터베이스에 연결하기 위해서는 드라이버를 로드하고 커넥션 객체를 생성해야는데 이때 많은 시스템 자원 소모와 시간이 발생합니다.

데이터베이스 사용을 완료하면 자원을 반납해야 하고 매번 요청할 때마다 이러한 작업을 반복하는 것은 매우 비효율적이기 때문에 커넥션 풀을 사용합니다.

커넥션 풀의 커넥션 개수가 적으면 쓰레드의 대기시간이 길어져 성능 저하가 발생하고 커넥션 개수가 증가하더라도 Disk 병목이나 컨텍스트 스위칭으로 인한 오버헤드가 발생하기 때문에 성능적인 한계가 존재합니다.

***커넥션 풀 설정***

|설정|설명|
|---|---|
|initialSize|초기 커넥션 개수 (default 10)|
|minIdle|최소한으로 유지할 커넥션 개수 (default 10)|
|maxIdle|최대한 유지할 수 있는 커넥션 개수 (default 100)|
|maxActive|동시에 사용할 수 있는 최대 커넥션 개수 (default 100)|
|maxWait|커넥션을 얻기 전 최대 대기 시간 (default 30s)|

maxActive는 initialSize 보다 크거나 같아야 합니다.

- 초기 커넥션 개수가 최대 커넥션 개수 보다 커서 논리적인 오류가 있는 설정입니다.

maxIdle과 maxActive는 동일하게 설정하는 것을 권장합니다.

- maxIdle = 5, maxActive = 10인 경우 커넥션을 5개 사용하고 있다고 가정합니다.
- 1개의 커넥션이 추가로 요청된다면 10개까지 사용 가능하므로 커넥션을 생성하고 사용이 완료되면 풀에 반환합니다.
- 이때 maxIdle이 5이므로 해당 커넥션은 close되는데 이러한 상황이 반복되면 불필요한 비용과 시간이 발생할 수 있습니다.

</details>

<details>
<summary>✍️ 2. Spring Container, IoC, DI는 무엇이고 어떠한 장점이 있을까요?</summary>
<br>

스프링 컨테이너는 설정 파일에 정의된 객체로부터 인스턴스를 생성하고 이들의 생명 주기를 관리합니다.

BeanDefinition에 의존하도록 설계되어 있기 때문에 애너테이션이나 자바 코드, XML을 선택적으로 사용할 수 있습니다.

스프링 컨테이너의 종류에는 BeanFactory와 ApplicationContext가 있습니다.

BeanFactory는 기본적인 컨테이너 기능만을 제공하며 클라이언트의 요청이 있을 때 인스턴스를 생성하는 지연 로딩 방식을 사용합니다.

ApplicationContext는 AOP와 같은 추가 기능을 제공하고 컨테이너가 구동될 때 모든 인스턴스를 생성하는 사전 로딩 방식을 사용합니다.

제어의 역전은 개발자가 직접 객체를 제어하는 것이 아닌 스프링 컨테이너에게 결정권이 넘어가는 것을 의미합니다.

스프링 컨테이너가 객체의 생성과 관계 설정, 사용, 소멸 등의 작업을 대신하기 때문에 개발자는 비즈니스 로직에 집중할 수 있습니다.

제어의 역전을 구현하는 방법으로는 의존성 검색과 의존성 주입이 있는데 의존성 검색은 컨테이너 종속성이 증가하므로 의존성 주입을 사용합니다.

의존성 주입은 두 객체 간의 관계를 결정하는 디자인 패턴으로 런타임에 동적으로 인스턴스를 주입하여 클래스 간의 결합도를 낮추고 직접 객체를 생성하는 것 보다 유지보수가 수월합니다.

</details>
