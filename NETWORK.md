Network

<details>
<summary>✍️ 1. 웹 브라우저에 URL을 입력하면 어떤 일이 생기나요?</summary>
<br>

- 웹 사이트를 호스팅하는 웹 서버의 위치 조회
- 웹 서버에 연결
- 특정 페이지를 가져오기 위한 요청 전송
- 웹 서버의 응답을 처리
- 사용자가 웹 사이트와 상호 작용할 수 있도록 페이지를 렌더링

***기본 지식***

웹 사이트는 HTML, CSS, Javascript 및 이미지와 같은 파일 모음으로 브라우저에 사이트, 이미지 및 데이터를 표시하는 방법을 지정합니다.

언제 어디서나 누구나 액세스할 수 있어야 하므로 인터넷에 연결된 서버라고 하는 컴퓨터에 이러한 파일을 저장합니다.

웹 브라우저에 https://www.creation.net/blog 와 같은 URL을 입력하면 브라우저는 인터넷에서 사이트를 호스팅하는 서버를 파악해야 합니다.

서버, 휴대폰, 스마트 냉장고 등 인터넷의 각 디바이스에는 모두 IP 주소라는 고유한 주소가 있고 마침표로 구분된 4개의 숫자로 이루어져 있습니다.

하지만 이러한 숫자는 기억하기 어렵기 때문에 DNS 조회를 수행하여 도메인 네임을 기반으로 서버의 IP 주소를 찾을 수 있습니다.

***전체 과정***

1. 웹 브라우저에 URL을 입력하고 Enter 키 입력
    - 통신 규약
        - https://는 통신 프로토콜입니다.
        - HTTPS는 Hypertext Transfer Protocol Secure를 나타냅니다.
        - 이 스키마는 웹 브라우저에 전송 계층 보안(TLS)을 사용하여 서버에 연결하도록 지시합니다.
        - TLS는 인터넷을 통한 통신을 보호하는 암호화 프로토콜입니다.
        - HTTPS를 사용하면 암호나 신용 카드 정보와 같이 웹 브라우저와 서버 간에 교환되는 데이터가 암호화됩니다.
    - 도메인
        - www.creation.net 은 웹 사이트의 도메인 네임입니다.
        - 기억하기 쉬운 주소이며 특정 서버의 IP 주소를 가리킵니다.
    - 경로
        - URL에 리소스에 대한 추가 경로가 있는 경우가 있습니다.
        - https://www.creation.net/blog/notice 의 경우 blog는 서버에 요청된 리소스로 이어지는 경로입니다.
        - 이를 컴퓨터에 있는 파일의 디렉터리 구조나 기타 디렉터리처럼 생각할 수 있습니다.
    - 리소스
        - notice는 보려는 웹 사이트의 리소스 네임입니다.
        - .html과 같은 파일 확장자는 HTML 컨텐츠가 있는 서버의 정적 파일임을 나타냅니다.
        - 확장자가 없으면 일반적으로 서버가 이 컨텐츠를 생성했음을 나타냅니다.

2. 웹 브라우저가 도메인 네임의 IP 주소 조회
    - 웹 브라우저에 URL을 입력하면 도메인 네임을 사용하여 웹 사이트를 호스팅하는 서버의 IP 주소를 조회해야 합니다.
    - DNS는 복잡하고 매우 빨라야 하기 때문에 웹 브라우저와 인터넷 사이에 임시로 데이터를 저장하는데 이를 캐시라고 합니다.
    - 웹 브라우저는 고유한 캐시, 운영 체제 캐시, 라우터의 로컬 네트워크 캐시, 회사 네트워크 또는 ISP의 DNS 서버 캐시를 확인합니다.
    - 만약, 웹 브라우저가 캐시에서 IP 주소를 찾을 수 없는 경우 회사 네트워크 또는 ISP의 DNS 서버가 재귀적 DNS 조회를 수행합니다.
    - DNS 서버로부터 DNS 레코드를 찾게되면 웹 브라우저는 인터넷에서 서버를 찾고 연결을 설정해야 합니다.

3. 웹 브라우저가 서버와의 TCP 연결 시작
    - 웹 브라우저가 요청한 패킷은 일반적으로 TCP/IP라고 하는 전송 제어 프로토콜을 사용합니다.
    - 패킷은 라우터 장비, ISP 스위치를 통해 이동되고 인터넷 라우팅 테이블을 통해서 연결할 IP 주소가 있는 서버를 찾습니다.
    - 웹 브라우저가 인터넷에서 서버를 찾으면 TCP 연결을 설정하고, HTTP를 통해 평문 통신을 시작합니다.
    - HTTPS를 사용하는 경우 데이터의 암호화를 위한 TLS Handshake라는 추가 과정을 수행합니다.
    - 웹 브라우저가 서버와의 연결을 설정했으면 리소스 또는 페이지를 가져 오기 위해 HTTP 요청을 전송해야 합니다.

4. 웹 브라우저가 HTTP 요청을 서버로 전송
    - 웹 브라우저가 서버에 연결되면, HTTP(s) 프로토콜에 대한 통신 규칙을 따릅니다.
    - 웹 브라우저가 페이지의 컨텐츠를 요청하기 위해 서버에 HTTP 요청을 전송하는데 요청 라인, 헤더 및 본문이 포함됩니다.
        - 요청 라인
            - 웹 브라우저가 수행하려는 작업을 서버가 결정하는 데 사용할 수 있는 정보가 포함되어 있습니다.
            - 요청 메서드, 요청된 리소스를 가리키는 경로, 통신할 HTTP 버전이 포함됩니다.
        - 헤더
            - 클라이언트와 서버가 서로에게 전달해야 할 다양한 종류의 데이터를 포함할 수 있습니다.
            - 대소문자를 구분하지 않는 이름과 콜론 ':' 다음에 오는 값으로 이루어져있습니다.
        - 본문
            - 보통 GET 요청은 본문이 비어 있습니다.
            - POST, PUT 또는 PATCH와 같은 리소스를 조작하는 요청의 경우 생성하거나 업데이트할 데이터가 포함됩니다.

5. 웹 서버가 요청을 처리하고 응답을 다시 전송
    - 웹 서버는 요청을 받고 요청 라인, 헤더 및 본문의 정보를 기반으로 요청 처리 방법을 결정합니다.
    - 요청에 대한 응답에는 클라이언트에게 요청 상태를 알려주는 상태 라인, 웹 브라우저에 응답 처리 방법을 알려주는 응답 헤더, 해당 경로에서 요청된 리소스가 포함됩니다.

6. 웹 브라우저가 컨텐츠 렌더링
    - 웹 브라우저가 웹 서버로부터 응답을 받으면 응답 헤더를 검사하여 리소스를 렌더링하는 방법에 대한 정보를 확인합니다.
    - Content-Type 헤더는 응답 본문에서 어떤 종류의 리소스를 수신했는지 나타내고 웹 웹 브라우저가 이미지 리소스를 요청했다면 텍스트가 아닌 데이터임을 알려주고 그에 따라 렌더링하도록 지시합니다.

***마무리***

1. 웹 브라우저에 URL을 입력하고 Enter 키를 누릅니다.
2. 웹 브라우저가 도메인의 IP 주소를 조회합니다. (먼저 캐시를 찾고, 그다음 DNS를 검색합니다.)
3. 웹 브라우저가 찾은 IP 주소를 기반으로 서버와의 TCP 연결을 시작합니다.
4. 웹 브라우저가 HTTP 요청을 서버로 전송합니다. (필요한 경우, HTTPS 보안 통신이 진행됩니다.)
5. 웹 서버가 요청을 처리하고 응답을 다시 웹 브라우저로 전송합니다.
6. 웹 브라우저가 전송 받은 컨텐츠를 렌더링합니다.

</details>

<details>
<summary>✍️ 2. 웹 브라우저는 어떻게 원하는 웹 사이트로 이동할 수 있나요?</summary>
<br>

도메인 네임 시스템은 사람이 읽을 수 있는 도메인 네임을 컴퓨터가 읽을 수 있는 IP 주소로 변환합니다.

도메인 이름을 웹 브라우저에 입력하면 DNS 리졸버는 도메인 이름을 어떤 서버에 연결할 것인지를 제어하는데 이것을 쿼리라고 부릅니다.

DNS 리졸버는 루트 네임 서버에 이러한 요청을 전달하고 도메인의 TLD 네임 서버 정보를 응답 받습니다.

DNS 리졸버는 TLD 네임 서버 중 하나에 다시 요청을 전달하고 해당 도메인 네임 서버를 찾으면 네임 서버는 존 파일을 참조하여 IP 주소를 반환하고 웹 브라우저는 연결을 위한 준비를 합니다.

이 과정에서 3-way hand shaking이 발생하고 TCP 연결에 성공하면 Http Request가 TCP Socket을 통해 보내집니다. 이에 대한 응답으로 웹 페이지의 정보가 사용자의 PC로 돌아옵니다.

DNS 리졸버나 서버는 한 번 검색한 결과를 캐시에 저장하며 같은 정보가 요청되면 캐시에 있는 정보를 응답합니다. 캐시에는 유효기간이 정해져 있으며 기간이 지난 정보는 삭제됩니다.

</details>
